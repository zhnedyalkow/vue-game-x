{"remainingRequest":"/home/zoreshenski/Desktop/Learning/VueJS_tuto/game-x/node_modules/babel-loader/lib/index.js!/home/zoreshenski/Desktop/Learning/VueJS_tuto/game-x/node_modules/eslint-loader/index.js??ref--13-0!/home/zoreshenski/Desktop/Learning/VueJS_tuto/game-x/Store/Modules/admin.js","dependencies":[{"path":"/home/zoreshenski/Desktop/Learning/VueJS_tuto/game-x/Store/Modules/admin.js","mtime":1562856700992},{"path":"/home/zoreshenski/Desktop/Learning/VueJS_tuto/game-x/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zoreshenski/Desktop/Learning/VueJS_tuto/game-x/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/zoreshenski/Desktop/Learning/VueJS_tuto/game-x/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/home/zoreshenski/Desktop/Learning/VueJS_tuto/game-x/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { keys.push.apply(keys, Object.getOwnPropertySymbols(object)); } if (enumerableOnly) keys = keys.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable no-mixed-spaces-and-tabs */\nimport Vue from 'vue';\nimport VueResource from 'vue-resource';\nimport { isContext } from 'vm';\nvar FbAuth = \"https://www.googleapis.com/identitytoolkit/v3/relyingparty\";\nvar FbApiKey = \"AIzaSyBGMfcMdLJF_YRtVxNSVRC974ItK7wAAgo\";\nvar admin = {\n  namespaced: true,\n  state: {\n    token: null,\n    refresh: null,\n    authFailed: false\n  },\n  getters: {},\n  mutations: {\n    authUser: function authUser(state, authData) {\n      state.token = authData.idToken;\n      state.refresh = authData.refreshToken;\n    },\n    authFailed: function authFailed(state, type) {\n      if (type === 'reset') {} else {\n        state.authFailed = true;\n      }\n    }\n  },\n  actions: {\n    signIn: function signIn(_ref, payload) {\n      var commit = _ref.commit;\n      Vue.http.post(\"\".concat(FbAuth, \"/verifyPassword?key=\").concat(FbApiKey), _objectSpread({}, payload, {\n        returnSecureToken: true\n      })).then(function (response) {\n        return response.json();\n      }).then(function (authData) {\n        commit('authUser', _objectSpread({}, authData, {\n          type: 'signin'\n        }));\n        localStorage.setItem('token', authData.idToken);\n        localStorage.setItem('refresh', authData.refreshToken);\n      }).catch(function (error) {\n        commit('authFailed');\n      });\n    }\n  }\n};\nexport default admin;",{"version":3,"sources":["/home/zoreshenski/Desktop/Learning/VueJS_tuto/game-x/Store/Modules/admin.js"],"names":["Vue","VueResource","isContext","FbAuth","FbApiKey","admin","namespaced","state","token","refresh","authFailed","getters","mutations","authUser","authData","idToken","refreshToken","type","actions","signIn","payload","commit","http","post","returnSecureToken","then","response","json","localStorage","setItem","catch","error"],"mappings":";;;;;;;;;AAAA;AACA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,SAASC,SAAT,QAA0B,IAA1B;AAEA,IAAMC,MAAM,GAAG,4DAAf;AACA,IAAMC,QAAQ,GAAG,yCAAjB;AAEA,IAAMC,KAAK,GAAG;AACbC,EAAAA,UAAU,EAAE,IADC;AAEbC,EAAAA,KAAK,EAAE;AACNC,IAAAA,KAAK,EAAE,IADD;AAENC,IAAAA,OAAO,EAAE,IAFH;AAGNC,IAAAA,UAAU,EAAE;AAHN,GAFM;AAObC,EAAAA,OAAO,EAAE,EAPI;AAUbC,EAAAA,SAAS,EAAE;AACVC,IAAAA,QADU,oBACDN,KADC,EACMO,QADN,EACgB;AACzBP,MAAAA,KAAK,CAACC,KAAN,GAAcM,QAAQ,CAACC,OAAvB;AACAR,MAAAA,KAAK,CAACE,OAAN,GAAgBK,QAAQ,CAACE,YAAzB;AACA,KAJS;AAKVN,IAAAA,UALU,sBAKCH,KALD,EAKQU,IALR,EAKc;AACvB,UAAIA,IAAI,KAAK,OAAb,EAAsB,CAErB,CAFD,MAEO;AACNV,QAAAA,KAAK,CAACG,UAAN,GAAmB,IAAnB;AACA;AACD;AAXS,GAVE;AAuBbQ,EAAAA,OAAO,EAAE;AACRC,IAAAA,MADQ,wBACWC,OADX,EACoB;AAAA,UAAnBC,MAAmB,QAAnBA,MAAmB;AAC3BrB,MAAAA,GAAG,CAACsB,IAAJ,CAASC,IAAT,WAAiBpB,MAAjB,iCAA8CC,QAA9C,qBACIgB,OADJ;AAECI,QAAAA,iBAAiB,EAAE;AAFpB,UAICC,IAJD,CAIM,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,OAJd,EAKCF,IALD,CAKM,UAAAX,QAAQ,EAAI;AAChBO,QAAAA,MAAM,CAAC,UAAD,oBACFP,QADE;AAELG,UAAAA,IAAI,EAAE;AAFD,WAAN;AAKAW,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8Bf,QAAQ,CAACC,OAAvC;AACAa,QAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCf,QAAQ,CAACE,YAAzC;AACD,OAbD,EAcCc,KAdD,CAcO,UAAAC,KAAK,EAAI;AACfV,QAAAA,MAAM,CAAC,YAAD,CAAN;AACA,OAhBD;AAiBA;AAnBO;AAvBI,CAAd;AA8CA,eAAehB,KAAf","sourcesContent":["/* eslint-disable no-mixed-spaces-and-tabs */\nimport Vue from 'vue';\nimport VueResource from 'vue-resource';\nimport { isContext } from 'vm';\n\nconst FbAuth = \"https://www.googleapis.com/identitytoolkit/v3/relyingparty\";\nconst FbApiKey = \"AIzaSyBGMfcMdLJF_YRtVxNSVRC974ItK7wAAgo\";\n\nconst admin = {\n\tnamespaced: true,\n\tstate: {\n\t\ttoken: null,\n\t\trefresh: null,\n\t\tauthFailed: false,\n\t},\n\tgetters: {\n\t\n\t},\n\tmutations: {\n\t\tauthUser(state, authData) {\n\t\t\tstate.token = authData.idToken;\n\t\t\tstate.refresh = authData.refreshToken;\n\t\t},\n\t\tauthFailed(state, type) {\n\t\t\tif (type === 'reset') {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tstate.authFailed = true;\n\t\t\t}\n\t\t}\n\t},\n\tactions: {\n\t\tsignIn({ commit }, payload) {\n\t\t\tVue.http.post(`${FbAuth}/verifyPassword?key=${FbApiKey}`, {\n\t\t\t\t...payload,\n\t\t\t\treturnSecureToken: true,\n\t\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(authData => {\n\t\t\t\t commit('authUser', {\n\t\t\t\t\t ...authData,\n\t\t\t\t\t type: 'signin',\n\t\t\t\t })\n\n\t\t\t\t localStorage.setItem('token', authData.idToken);\n\t\t\t\t localStorage.setItem('refresh', authData.refreshToken);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tcommit('authFailed');\n\t\t\t})\n\t\t}\n\t},\n};\n\nexport default admin;"]}]}